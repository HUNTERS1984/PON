fos_elastica:
    clients:
        default: { host: '%elasticsearch_host%', port: '%elasticsearch_port%' }
    indexes:
        app:
            index_name: '%elasticsearch_index%'
            types:
                appUser:
                    mappings:
                        id: ~
                        username: ~
                        roles: ~
                    persistence:
                        driver: orm
                        model: CoreBundle\Entity\AppUser
                        provider: ~
                        listener: ~
                        finder: ~
                store:
                    mappings:
                        id: ~
                        title: ~
                        operationStartTime:
                            type: date
                        operationEndTime:
                            type: date
                        avatarUrl: ~
                        tel: ~
                        location: {type: geo_point}
                        impression: ~
                        latitude: ~
                        longitude: ~
                        address: ~
                        closeDate: ~
                        aveBill: ~
                        help_text: ~
                        address: ~
                        storePhotos:
                            type: "nested"
                            properties:
                                photo:
                                    type: object
                                    properties:
                                        id: ~
                                        imageUrl: ~
                        category:
                            type: object
                            properties:
                                id: ~
                                name: ~
                                iconUrl: ~
                        appUser:
                            type: object
                            properties:
                                id: ~
                                username: ~
                                email: ~
                        coupons:
                            type: nested
                            properties:
                                id: ~
                                title: ~
                                imageUrl: ~
                                type: ~
                                impression:
                                    type: integer
                                couponUserPhotos:
                                    type: "nested"
                                    properties:
                                        photo:
                                            type: object
                                            properties:
                                                id: ~
                                                imageUrl: ~
                                couponPhotos:
                                    type: "nested"
                                    properties:
                                        photo:
                                            type: object
                                            properties:
                                                id: ~
                                                imageUrl: ~
                        createdAt:
                            type: date
                        updatedAt:
                            type: date
                        deletedAt:
                            type: date
                    persistence:
                        driver: orm
                        model: CoreBundle\Entity\Store
                        provider: ~
                        listener: ~
                        finder: ~
                coupon:
                    mappings:
                        id: ~
                        title: ~
                        expiredTime:
                            type: date
                        imageUrl: ~
                        needLogin: ~
                        impression: ~
                        type: ~
                        description: ~
                        status:
                            type: boolean
                        size: ~
                        couponUserPhotos:
                            type: "nested"
                            properties:
                                photo:
                                    type: object
                                    properties:
                                        id: ~
                                        imageUrl: ~
                        couponPhotos:
                            type: "nested"
                            properties:
                                photo:
                                    type: object
                                    properties:
                                        id: ~
                                        imageUrl: ~
                        store:
                            type: object
                            properties:
                                id: ~
                                title: ~
                                location: {type: geo_point}
                                latitude: ~
                                longitude: ~
                                address: ~
                                impression: ~
                                storePhotos:
                                    type: "nested"
                                    properties:
                                        photo:
                                            type: object
                                            properties:
                                                id: ~
                                                imageUrl: ~
                                appUser:
                                    type: object
                                    properties:
                                        id: ~
                                        username: ~
                                        email: ~
                                category:
                                    type: object
                                    properties:
                                        id: ~
                                        name: ~
                                        iconUrl: ~
                        createdAt:
                            type: date
                        updatedAt:
                            type: date
                        deletedAt:
                            type: date
                    persistence:
                        driver: orm
                        model: CoreBundle\Entity\Coupon
                        provider: ~
                        listener: ~
                        finder: ~
                category:
                    mappings:
                        id: ~
                        name: ~
                        iconUrl: ~
                    persistence:
                        driver: orm
                        model: CoreBundle\Entity\Category
                        provider: ~
                        listener: ~
                        finder: ~

                useList:
                    mappings:
                        id: ~
                        coupon:
                            type: object
                            properties:
                                id: ~
                                title: ~
                                deletedAt:
                                    type: date
                                store:
                                    type: object
                                    properties:
                                        id: ~
                                        title: ~
                                        deletedAt:
                                            type: date
                                        category:
                                            type: object
                                            properties:
                                                id: ~
                                                name: ~
                                                iconUrl: ~
                        appUser:
                            type: object
                            properties:
                                id: ~
                                username: ~
                                name: ~
                        requestedAt:
                            type: date
                        expiredTime:
                            type: date
                        createdAt:
                            type: date
                        updatedAt:
                            type: date
                        status: ~
                        code: ~
                    persistence:
                        driver: orm
                        model: CoreBundle\Entity\UseList
                        provider: ~
                        listener: ~
                        finder: ~

                followList:
                    mappings:
                        id: ~
                        store:
                            type: object
                            properties:
                                id: ~
                                title: ~
                                avatar_url: ~
                                deletedAt:
                                    type: date
                        appUser:
                            type: object
                            properties:
                                id: ~
                                username: ~
                                name: ~
                    persistence:
                        driver: orm
                        model: CoreBundle\Entity\FollowList
                        provider: ~
                        listener: ~
                        finder: ~

                likeList:
                    mappings:
                        id: ~
                        coupon:
                            type: object
                            properties:
                                id: ~
                                title: ~
                                imageUrl: ~
                                deletedAt:
                                    type: date
                        appUser:
                            type: object
                            properties:
                                id: ~
                                username: ~
                                name: ~
                    persistence:
                        driver: orm
                        model: CoreBundle\Entity\LikeList
                        provider: ~
                        listener: ~
                        finder: ~